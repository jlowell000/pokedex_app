!function(e){function t(t){for(var i,r,o=t[0],l=t[1],h=t[2],p=0,d=[];p<o.length;p++)r=o[p],a[r]&&d.push(a[r][0]),a[r]=0;for(i in l)Object.prototype.hasOwnProperty.call(l,i)&&(e[i]=l[i]);for(c&&c(t);d.length;)d.shift()();return n.push.apply(n,h||[]),s()}function s(){for(var e,t=0;t<n.length;t++){for(var s=n[t],i=!0,o=1;o<s.length;o++){var l=s[o];0!==a[l]&&(i=!1)}i&&(n.splice(t--,1),e=r(r.s=s[0]))}return e}var i={},a={0:0},n=[];function r(t){if(i[t])return i[t].exports;var s=i[t]={i:t,l:!1,exports:{}};return e[t].call(s.exports,s,s.exports,r),s.l=!0,s.exports}r.m=e,r.c=i,r.d=function(e,t,s){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(r.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(s,i,function(t){return e[t]}.bind(null,i));return s},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="";var o=window.webpackJsonp=window.webpackJsonp||[],l=o.push.bind(o);o.push=t,o=o.slice();for(var h=0;h<o.length;h++)t(o[h]);var c=l;n.push([10,1]),s()}({10:function(e,t,s){"use strict";s.r(t);s(1),s(6);const i={};class a{constructor(){}async get(e){return i[e]||(i[e]=fetch(e).then(e=>e.json())),i[e]}}class n extends a{constructor(){super(),this.pokeapi="https://pokeapi.co/api/v2/"}async getLanguage(e){return this.get(`${this.pokeapi}language/${e}`)}async getLanguageList(){return this.get(`${this.pokeapi}language`)}async getPokemon(e){return this.get(`${this.pokeapi}pokemon/${e}/`)}async getPokemonList(e,t){return this.get(`${this.pokeapi}pokemon?offset=${e}&limit=${t}`)}async getSpecies(e){return this.get(`${this.pokeapi}pokemon-species/${e}/`)}async getAllVersions(){return this.get(`${this.pokeapi}version?offset=0&limit=999`)}async getVersion(e){return this.get(`${this.pokeapi}version/${e}/`)}async getType(e){return this.get(`${this.pokeapi}type/${e}/`)}async getMove(e){return this.get(`${this.pokeapi}move/${e}/`)}async getMoveDamageClass(e){return this.get(`${this.pokeapi}move-damage-class/${e}/`)}async getMoveLearnMethod(e){return this.get(`${this.pokeapi}move-learn-method/${e}/`)}}let r="en",o="en",l=new Array;function h(e){return e.filter(e=>e.language.name===r)}function c(e){let t=e.find(e=>e.language.name===r);return console.log(e,t||e.find(e=>e.language.name===o)),t||e.find(e=>e.language.name===o)}function p(e,t){return e.find(e=>e.version_group.name===t)}class d{constructor(e){this.ele=e,this.state={},this.childComponents=new Array}setState(e){Object.assign(this.state,e)}async init(){return await this.initChildern(),this}initChildern(){return Promise.all(this.childComponents.map(e=>e.init()))}template(){return""}}class u extends d{constructor(e){super(e)}async init(){return this.state.type=await(new n).getType(this.state.type.name),this.ele.innerHTML=this.template(),super.init()}template(){return`<span>${c(this.state.type.names).name}</span>`}}class v extends d{constructor(e){super(e)}async init(){this.ele.innerHTML=this.template(),this.childComponents.forEach((e,t)=>{e.ele=this.ele.querySelector(`#obj_${t}`)}),await super.init(),this.ele.querySelector("#list_spin").remove(),this.ele.querySelector("ul").classList.remove("is-invisible")}spinner(e){return`<div id=${e} class='columns'><i class='column fas fa-spinner fa-pulse fa-3x'/></i></div>`}template(){return`${this.spinner("list_spin")}<ul class='is-invisible' style='height:400px; overflow-y: scroll;'>${this.childComponents.map((e,t)=>`<li id='obj_${t}' style='border-top:solid;'></li>`).join("")}</ul>`}}class m extends d{constructor(e){super(e)}async init(){return this.state.flavorText?(this.state.flavorText.version=await(new n).getVersion(this.state.flavorText.version.name),this.ele.innerHTML=this.template(c(this.state.flavorText.version.names).name,this.state.flavorText.flavor_text)):this.ele.innerHTML=this.template("","Not Available"),super.init()}template(e,t){return`<div class='columns'>\n                    <div class='column is-2'><strong>${e} Pokedex Entry</strong>:</div>\n                    <div class='column'>${t}</div>\n                </div>`}}class g extends d{constructor(e){super(e)}async init(){if(this.state.version){if(this.state.versionDetails=p(this.state.origMove.version_group_details,this.state.version.version_group.name),this.state.versionDetails){let e=new n,t=await Promise.all([await e.getMoveLearnMethod(this.state.versionDetails.move_learn_method.name),await e.getMove(this.state.move.name)]);this.state.versionDetails.move_learn_method=t[0],this.state.move=t[1],this.state.move.damage_class=await e.getMoveDamageClass(this.state.move.damage_class.name),this.state.flavor_text=p(h(this.state.move.flavor_text_entries),this.state.version.version_group.name),this.ele.innerHTML=this.template();let s=new u(this.ele.querySelector(`#${this.state.move.name}_type`));return s.setState({type:this.state.move.type}),await s.init(),super.init()}}else this.ele.innerHTML="Missing Version"}template(){return`<section class='section'>\n                    <div>\n                        <div class='columns'>\n                            <span class='column'><strong>${c(this.state.move.names).name}</strong></span>\n                            <span class='column'>Type: <span id='${this.state.move.name}_type'></span></span>\n                            <span class='column is-capitalized'>Class: ${c(this.state.move.damage_class.names).name}</span>  \n                            <span class='column'>Power: ${this.state.move.power?this.state.move.power:"-"}</span>\n                            <span class='column'>Accuracy: ${this.state.move.accuracy?this.state.move.accuracy:"-"}</span>\n                        </div>\n                        <div>${this.state.flavor_text?this.state.flavor_text.flavor_text:"-"}</div>\n                        ${this.state.versionDetails?this.learnMethodTemplate():""}\n                    </div>\n                </section>`}learnMethodTemplate(){return`<div>Learn Method: ${"level-up"===this.state.versionDetails.move_learn_method.name?`Learned at level ${this.state.versionDetails.level_learned_at}`:c(this.state.versionDetails.move_learn_method.descriptions).description}</div>`}}class f extends v{constructor(e){super(e)}async init(){return this.state.moveList=this.state.moveList.filter(e=>!!p(e.version_group_details,this.state.version.version_group.name)),this.childComponents=this.state.moveList.map(e=>{let t=new g(null);return t.setState({move:e.move,origMove:e,version:this.state.version}),t}),super.init()}}class y extends d{constructor(e){super(e),this.state.date={},this.state.show=!1}async init(){if(this.state.data.id){let e=new n;this.state.data=await e.getPokemon(this.state.data.id),this.state.data.species=await e.getSpecies(this.state.data.species.name),this.ele.innerHTML=this.template(),this.ele.querySelector(`#head_${this.state.data.id}`).addEventListener("click",this.headClick.bind(this)),this.ele.querySelector(`#types_${this.state.data.id}`).innerHTML=this.state.data.types.reverse().map(e=>`<span id='types_${this.state.data.id}_${e.type.name}'></span>`).join(" | ");let t=this.state.data.types.reverse().map(e=>{let t=new u(this.ele.querySelector(`#types_${this.state.data.id}_${e.type.name}`),e.type);return t.setState({type:e.type}),t}).map(e=>e.init());return this.ele.querySelectorAll("nav .panel-heading").forEach(e=>e.addEventListener("click",this.tabClick.bind(this))),await Promise.all(t),super.init()}}headClick(){!this.state.show&&this.state.version?(this.ele.querySelector(`#body_${this.state.data.id}`).style.display="block",this.state.show=!this.state.show):(this.ele.querySelector(`#body_${this.state.data.id}`).style.display="none",this.state.show=!this.state.show)}initVersionedData(){var e,t;this[`flavor_text_${this.state.data.id}`]=new m(this.ele.querySelector(`#flavor_text_${this.state.data.id}`)),this[`flavor_text_${this.state.data.id}`].setState({flavorText:(e=h(this.state.data.species.flavor_text_entries),t=this.state.version.name,e.find(e=>e.version.name===t))});let s=[this[`flavor_text_${this.state.data.id}`].init()];return this[`moves_${this.state.data.id}`]=new f(this.ele.querySelector(`#moves_${this.state.data.id}`)),this[`moves_${this.state.data.id}`].setState({moveList:this.state.data.moves,version:this.state.version}),this.ele.querySelector(`#moves_${this.state.data.id}_head`).classList.contains("is-active")&&s.push(this[`moves_${this.state.data.id}`].init()),Promise.all(s)}async onVersionChange(e){this.state.version=e,this.ele.querySelector("nav").style.display="block",await this.initVersionedData()}tabClick(e){e.target.classList.contains("is-active")?this.tabClear():(this.tabClear(),e.target.classList.add("is-active"),this.ele.querySelector(e.target.getAttribute("controls")).style.display="block",this.ele.querySelector(e.target.getAttribute("controls")).innerHTML||this[e.target.getAttribute("controls").replace("#","")].init())}tabClear(){this.ele.querySelectorAll("nav .panel-heading").forEach(e=>e.classList.remove("is-active")),this.ele.querySelectorAll("nav .panel-block").forEach(e=>e.style.display="none")}template(){return`<div class='panel'>\n                    <section id='head_${this.state.data.id}' class='panel-heading'>\n                        <div class='level'>\n                            <div class='level-left'>\n                                <span>\n                                    <figure class='image is-96x96'><img src='${this.state.data.sprites.front_default}'></figure>\n                                </span>\n                                <h1 class='title'>${c(this.state.data.species.names).name}</h1>\n                            </div>\n                            <div class='level-right'>\n                                <span id='types_${this.state.data.id}'></span>\n                            </div>\n                        </div>\n                    </section>\n                    <span id='body_${this.state.data.id}' class='panel-block' style='display:none'>\n                        <section class='section'>\n                            <div id='flavor_text_${this.state.data.id}'></div>\n                        </section>\n                        <section class='section'>\n                            <nav class='panel box is-paddingless' style='display:none'>\n                                <p class='panel-heading' id='moves_${this.state.data.id}_head' controls='#moves_${this.state.data.id}'>Moves</p>\n                                <div id='moves_${this.state.data.id}' class='panel-block' style='display:none'></div>\n                            </nav>\n                        </section>\n                    </span>\n                </div>`}}class _ extends d{constructor(e){super(e)}async init(){return this.ele.innerHTML=this.template(),this.ele.querySelector("select").addEventListener("change",this.onChange.bind(this)),this.state.value&&(this.ele.querySelector("select").value=this.state.value),super.init()}onChange(){this.setState({value:this.ele.querySelector("select").value}),this.state.onChange&&this.state.onChange(this.state.value)}template(){let e="";return this.state.optionsMap.forEach((t,s)=>{e+=`<option value='${s}'>${t}</option>`}),`<select>${e}</select>`}}class b extends d{constructor(e){super(e)}async init(){let e=new n;return this.versions=(await e.getAllVersions()).results,this.versions=await Promise.all(this.versions.map(t=>e.getVersion(t.name))),this.ele.innerHTML=this.template(),this.ele.querySelector("select").value=this.state.version?this.state.version.name:"",this.ele.querySelector("select").addEventListener("change",this.onChange.bind(this)),super.init()}onChange(e){this.state.onChangeCallBack(this.versions.find(t=>t.name===e.target.selectedOptions[0].value))}getVersion(){let e=this.ele.querySelector("select").selectedOptions[0].value;return this.versions.find(t=>t.name===e)}template(){return`<div class="select">\n                    <select>\n                    <option value=''>Select Version</option>\n                        ${this.versions.map(e=>`<option value='${e.name}'>${c(e.names).name}</option>`).join("")}\n                    </select>\n                </div>`}}class S extends _{constructor(e){super(e)}async init(){let e=new n;return this.languages=(await e.getLanguageList()).results,this.languages=await Promise.all(this.languages.map(t=>e.getLanguage(t.name))),this.setState({optionsMap:this.langOptions(),value:r,onChange:this.onLangChange.bind(this)}),super.init()}langOptions(){return new Map(this.languages.map(e=>{let t=e.names.find(t=>t.language.name===e.name);return[e.name,t?t.name:e.name]}))}onLangChange(e){!function(e){r=e,l.forEach(t=>{t(e)})}(e)}}class $ extends d{constructor(e){super(e),this.setState({numberOfPages:1,version:null})}async init(){if(this.setState({pageNumber:Math.trunc(this.state.offset/this.state.limit)}),this.state.numberOfPages){this.ele.innerHTML=this.template();let e=new _(this.ele.querySelector("#select_page"));e.setState({optionsMap:this.pageOptions(),onChange:this.onPageSelect.bind(this),value:this.state.pageNumber}),this.childComponents.push(e);let t=new b(this.ele.querySelector("#version_picker"));t.setState({version:this.state.version,onChangeCallBack:this.onVersionChange.bind(this)}),this.childComponents.push(t);let s=new S(this.ele.querySelector("#lang_selector"));this.childComponents.push(s),this.ele.querySelector("#select_limit select").addEventListener("change",this.onLimitSelect.bind(this)),this.ele.querySelector("#left_page").addEventListener("click",()=>{this.setoffset(this.state.offset-this.state.limit)}),this.ele.querySelector("#right_page").addEventListener("click",()=>{this.setoffset(this.state.offset+this.state.limit)});let i=this.ele.querySelector(".navbar-burger"),a=this.ele.querySelector(".navbar-menu");return i.addEventListener("click",()=>{let e=i.classList.contains("is-active");i.classList[e?"remove":"add"]("is-active"),a.classList[e?"remove":"add"]("is-active")}),super.init()}}onVersionChange(e){this.setState({version:e}),this.state.onVersionChange(e)}onPageSelect(e){this.setState({pageNumber:e}),this.setoffset(e*this.state.limit)}pageOptions(){return new Map(new Array(this.state.numberOfPages).fill(0).map((e,t)=>[t,t+1]))}onLimitSelect(){return this.setState({limit:parseInt(this.ele.querySelector("#select_limit select").value.trim())}),this.state.onOffsetLimitChange(this.state.offset,this.state.limit),this.init()}setoffset(e){let t=this.state.numberOfPages*this.state.limit;return e<0?e=0:e>t&&(e=t),this.setState({offset:e}),this.state.onOffsetLimitChange(this.state.offset,this.state.limit),this.init()}template(){return"<nav class='navbar is-fixed-top is-dark'>\n                    <div class=\"navbar-brand\">\n                    <img src=\"https://img.icons8.com/color/50/000000/pokeball.png\" width=\"52\" height=\"52\">\n                    </div>\n                    <div class='navbar-menu'>\n                        <div class='navbar-end'>\n                            <div class='navbar-item'>\n                                <button id='left_page' class='button'><i class='fas fa-angle-left'></i></button>\n                                <span id='select_page' class='select'></span>\n                                <button id='right_page' class='button'><i class='fas fa-angle-right'></i></button>\n                            </div>\n                            <div class='navbar-item'>\n                                <span id='select_limit' class='select'>\n                                    <select>\n                                        <option value='5'>5</option>\n                                        <option value='10'>10</option>\n                                        <option value='20'>20</option>\n                                    </select>\n                                </span>\n                                <span> Per Page</span>\n                            </div>\n                            <div class='navbar-item'>\n                                <span id='version_picker'></span>\n                            </div>\n                            <div class='navbar-item'>\n                                <span id='lang_selector' class='select'></span>\n                            </div>\n                        </div>\n                    </div>\n                    <a role='button' class='navbar-burger' aria-label='menu' aria-expanded='false'>\n                        <span aria-hidden='true'></span>\n                        <span aria-hidden='true'></span>\n                        <span aria-hidden='true'></span>\n                    </a>\n                </nav>"}}class w extends d{constructor(e){super(e),this.setState({offset:0,limit:5,version:null})}async init(){this.toggleControls(!0);let e=new n,t=await e.getPokemonList(this.state.offset,this.state.limit);this.ele.innerHTML||(this.ele.innerHTML=this.template()),this.toggleControls(!0);let s=this.ele.querySelector("#list");s.innerHTML="",this.pokemonArr||(this.pokemonArr=new Array(t.count));let i=new $(this.ele.querySelector("#list_controller"));i.setState({offset:this.state.offset,limit:this.state.limit,version:this.state.version,onOffsetLimitChange:this.onOffsetLimitChange.bind(this),numberOfPages:Math.trunc(this.pokemonArr.length/this.state.limit),onVersionChange:this.onVersionChange.bind(this)}),i.init(),this.displayedPokemon=new Array(t.results.length),s.innerHTML=t.results.map(e=>`<li id='poke_${e.name}'></li>`).join("");for(let e=this.state.offset;e<this.state.offset+this.state.limit&&e<this.pokemonArr.length;e++)this.pokemonArr[e]||(this.pokemonArr[e]=t.results[e-this.state.offset]),this.displayedPokemon[e-this.state.offset]=new y(s.querySelector(`#poke_${this.pokemonArr[e].name}`)),this.displayedPokemon[e-this.state.offset].setState({data:{id:this.pokemonArr[e].name}});await Promise.all(this.displayedPokemon.map(e=>e.init())),this.state.version&&await this.onVersionChange(this.state.version),this.toggleControls(!1)}onOffsetLimitChange(e,t){this.setState({offset:e,limit:t}),this.init()}async onVersionChange(e){return this.setState({version:e}),await Promise.all(this.displayedPokemon.map(t=>t.onVersionChange(e))),!0}toggleControls(e){this.ele.querySelectorAll("#left_page, #right_page, select").forEach(t=>t[e?"setAttribute":"removeAttribute"]("disabled",!0))}template(){return"<span id='list_controller'></span>\n                <section class='section box'>\n                    <div class='container'>\n                        <ul id='list'></ul>\n                    </div>\n                </section>"}}class k{constructor(e){var t;this.ele=e,t=this.init.bind(this),l.push(t)}async init(){return this.ele.innerHTML=this.template(),this.pokemon_list=new w(this.ele.querySelector("#output")),await this.pokemon_list.init(),this}template(){return"<section class='section has-background-grey-light'>\n                    <span id='output'></span>\n                </section>"}}document.addEventListener("DOMContentLoaded",()=>{n||console.log("REQUEST_CACHE missing"),new k(document.querySelector("#pokedex")).init()})}});